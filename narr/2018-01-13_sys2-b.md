## Narrative: 2018-01-13_sys2-b

**Objective**:  Reference data taken with the first version of s370_perf after
the code was renamed and moved from the
[mvs38j-langtest](https://github.com/wfjm/mvs38j-langtest) project
into its own project.
To be compared with [2018-01-03_rasp2b](2018-01-03_rasp2b.md).


| Attribute | Value |
| --------- | ----- |
| Host   | [sys2](hostinfo_sys2.md) |
| System | Herc tk4- 08 (NUMCPU=2 MAXCPU=2) |
| s370_perf | [V0.9.1  rev  986  2018-01-06](https://github.com/wfjm/s370-perf/blob/8a90021/codes/s370_perf.asm) |
| Creation Date | 2018-01-13 |
| Send by | wfjm |
| [cpufreq](README_narr.md#user-content-cpufreq) | governor: ondemand; latency: 10.0 us |
| [eff. CPU clock](README_narr.md#user-content-effclk) | 3600 MHz |
| [ASM step](README_narr.md#user-content-asm) | `CPU:   5.67s  21.93%; CPU/ela:  86.82%` |
| [GO step](README_narr.md#user-content-go)   | `CPU: 198.73s   1.59%; CPU/ela:  99.91%` |
| Summaries | [sys2 over time](sum_2018-03-31_sys2_and_old-runs.dat) absolute instruction time |
| Data | [2018-01-13_sys2-b.dat](../data/2018-01-13_sys2-b.dat) |

### Findings <a name="find"></a>
The [sys2 over time](sum_2018-03-31_sys2_and_old-runs.dat) compares the
instruction timing measured with three versions of s370_perf between
2018-01-06 and 2018-03-31

| Case | s370_perf vers | median w50 |
| ---- | -------------- | :--------: |
| [2018-01-13_sys2-b](2018-01-13_sys2-b.md) | V0.9.1 rev  986 | 0.81% |
| [2018-03-04_sys2](2018-03-04_sys2.md)     | V0.9.5 rev  998 | 0.78% |
| [2018-03-31_sys2](2018-03-31_sys2.md)     | V0.9.7 rev 1003 | 0.89% |

The test reproducibility is very good in all three cases, the median of the
50% width is in the 0.80% to 0.90% range.

221 instruction times were determined with all three s370_perf versions.
In 209 cases the instruction times agree within 3%, in 182 cases even within 1%.

The 12 cases with a difference larger than 3% are
```
File num: name ----------------------------------- #test w50-med  w50-max
      01: 2018-03-31_sys2.dat                        330   0.89%     4.5%
      02: 2018-03-04_sys2.dat                        303   0.78%     3.8%
      03: 2018-01-13_sys2-b.dat                      233   0.81%     3.2%

Tag   Comment                :     tpi01     tpi02     tpi03 :  t02/t01  t03/t01
T252  TR m,m (10c)           :     16.44     29.28     27.85 :    1.781    1.694
T253  TR m,m (100c)          :     69.62    159.05    150.94 :    2.285    2.168
T254  TR m,m (250c)          :    151.23    361.12    347.36 :    2.388    2.297
T443  ZAP m,m (30d,10d)      :    100.39    100.25    104.03 :    0.999    1.036
T510  AER R,R                :     14.56     12.96     13.02 :    0.890    0.894
T511  AE R,m                 :     19.59     18.11     18.10 :    0.924    0.924
T522  AUR R,R                :     10.01     14.42     14.38 :    1.441    1.437
T540  ADR R,R                :     15.43     14.19     14.25 :    0.920    0.924
T541  AD R,m                 :     20.65     19.05     19.03 :    0.923    0.922
T560  AXR R,R                :     25.66     23.16     23.10 :    0.903    0.900
T600  STCK m                 :     65.48     97.36    102.95 :    1.487    1.572
T601  SPM R                  :      2.79      2.62      2.59 :    0.939    0.928
```

The tests T252 to T254 did not change, it is unclear why the times for `TR`
changed by about a factor 2.
